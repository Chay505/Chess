# Story 1.6: Vercel Deployment & CI/CD Pipeline

## Status
Draft

## Story
**As a** developer,
**I want** Vercel project configured with automatic deployments from GitHub main branch,
**so that** every Git push triggers production deployment with zero manual intervention.

## Acceptance Criteria
1. Vercel account created and project linked to GitHub repository
2. Environment variables configured in Vercel dashboard (database URL, etc.)
3. Production domain assigned (Vercel subdomain initially, custom domain later)
4. Automatic HTTPS/SSL certificate provisioned
5. Git push to `main` branch triggers automatic deployment
6. Preview deployments enabled for pull requests
7. Deployment succeeds and application accessible at production URL
8. Build logs accessible in Vercel dashboard for debugging

## Tasks / Subtasks
- [ ] Create Vercel account and link repository (AC: 1)
  - [ ] Sign up for Vercel account
  - [ ] Import GitHub repository
  - [ ] Grant Vercel access to repository
- [ ] Configure environment variables (AC: 2)
  - [ ] Add DATABASE_URL from Railway
  - [ ] Add any other required environment variables
  - [ ] Verify variables saved correctly
- [ ] Assign production domain (AC: 3)
  - [ ] Note Vercel-assigned subdomain
  - [ ] Plan for custom domain later
  - [ ] Verify domain accessible
- [ ] Verify SSL certificate (AC: 4)
  - [ ] Check HTTPS enabled automatically
  - [ ] Test site with https://
- [ ] Test automatic deployments (AC: 5)
  - [ ] Make small change and push to main
  - [ ] Verify deployment triggers
  - [ ] Check deployment completes successfully
- [ ] Enable preview deployments (AC: 6)
  - [ ] Verify preview deployments enabled (default)
  - [ ] Create test PR and verify preview URL generated
- [ ] Verify production deployment (AC: 7)
  - [ ] Access production URL
  - [ ] Verify application loads correctly
  - [ ] Test all routes
- [ ] Review build logs (AC: 8)
  - [ ] Access Vercel dashboard
  - [ ] Review deployment logs
  - [ ] Verify no errors or warnings

## Dev Notes

### Vercel Configuration
- **Hosting:** Vercel Free Tier
- **Features:** Automatic deployments, edge network CDN, zero-config Next.js optimization
- **Deployment:** Git-based, automatic from main branch
- **Preview:** Unique URL for each pull request

### Environment Variables
Required in Vercel dashboard:
```
DATABASE_URL=postgresql://...
NODE_ENV=production
```

### Deployment Workflow
1. Developer pushes to GitHub
2. Vercel detects Git push via webhook
3. Vercel builds Next.js application
4. Vercel deploys to edge network
5. Deployment URL provided (production or preview)

### Domain Configuration
- **Initial:** Use Vercel subdomain (e.g., chess-coaching.vercel.app)
- **Future:** Add custom domain (~$12/year)
- **SSL:** Automatic via Vercel

### Build Settings
- **Framework:** Next.js (auto-detected)
- **Build Command:** `npm run build` (default)
- **Output Directory:** `.next` (default)
- **Install Command:** `npm install` (default)

### Testing
- **Deployment Test:** Push small change to main and verify deployment
- **Preview Test:** Create PR and verify preview deployment
- **Production Test:** Visit production URL and verify site loads
- **Environment Test:** Verify DATABASE_URL works in production

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-24 | 1.0 | Initial story creation | John (PM Agent) |

## Dev Agent Record

### Agent Model Used
_To be populated by dev agent_

### Debug Log References
_To be populated by dev agent_

### Completion Notes List
_To be populated by dev agent_

### File List
_To be populated by dev agent_

## QA Results
_To be populated by QA agent_
