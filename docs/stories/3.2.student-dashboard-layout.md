# Story 3.2: Student Dashboard Layout

## Status
Draft

## Story
**As a** student,
**I want** simple dashboard showing my resources and feedback sections,
**so that** I can easily access coaching materials the instructor shares with me.

## Acceptance Criteria
1. Dashboard page created at `/dashboard` (protected by Clerk)
2. Page displays welcome message with student name from Clerk user profile
3. Two main sections visible: "My Resources" and "Instructor Feedback"
4. Navigation header includes logout button
5. Fully responsive design (mobile, tablet, desktop)
6. Bilingual support (FR/EN content based on site locale)
7. Empty state messaging when no resources/feedback exist yet

## Tasks / Subtasks
- [ ] Create dashboard page (AC: 1)
  - [ ] Create `/app/[locale]/dashboard/page.tsx`
  - [ ] Verify route is protected by Clerk middleware
  - [ ] Test unauthenticated access redirects to login
- [ ] Display welcome message (AC: 2)
  - [ ] Import `useUser` hook from Clerk
  - [ ] Display student name from `user.firstName` or `user.fullName`
  - [ ] Add bilingual greeting ("Welcome back, [Name]!" / "Bienvenue, [Name]!")
- [ ] Create dashboard layout sections (AC: 3)
  - [ ] Create "My Resources" section container
  - [ ] Create "Instructor Feedback" section container
  - [ ] Use card-based layout for visual separation
  - [ ] Add section headings
- [ ] Create dashboard navigation header (AC: 4)
  - [ ] Create `/components/DashboardHeader.tsx` component
  - [ ] Display logo and student name
  - [ ] Add logout button (use Clerk `<SignOutButton>`)
  - [ ] Add language toggle
  - [ ] Style with brand colors
- [ ] Implement responsive design (AC: 5)
  - [ ] Mobile: Single-column stacking
  - [ ] Tablet: Consider 2-column layout
  - [ ] Desktop: Side-by-side or stacked sections
  - [ ] Test at all breakpoints
- [ ] Add bilingual support (AC: 6)
  - [ ] Create translation keys for dashboard content
  - [ ] Test language toggle updates dashboard content
- [ ] Create empty state components (AC: 7)
  - [ ] Add empty state for "My Resources": "No resources yet. Your instructor will upload materials here."
  - [ ] Add empty state for "Instructor Feedback": "No feedback yet. Check back after your first lesson!"
  - [ ] Add illustrations or icons for empty states

## Dev Notes

### Component Specifications
- **Dashboard Page:** `/app/[locale]/dashboard/page.tsx`
- **Dashboard Header:** `/components/DashboardHeader.tsx`
- **Resources Section:** `/components/dashboard/ResourcesList.tsx` (placeholder for Story 3.3)
- **Feedback Section:** `/components/dashboard/FeedbackList.tsx` (placeholder for Story 3.4)
- **i18n Integration:** Use `next-intl` for translations

### Design Details from Front-End Spec
**Dashboard Layout:**
- Header: Logo (left), Welcome message (center), Logout button (right)
- Main content: Max-width 1280px, centered
- Two main sections: "My Resources" and "Instructor Feedback"
- Card-based layout for each section
- Empty state illustrations when no content

**Header Design:**
- Background: White (#FFFFFF)
- Border-bottom: Light gray (#E5E7EB)
- Padding: 16px (mobile), 24px (desktop)
- Logo + name on left, language toggle + logout on right

**Section Cards:**
- Background: White (#FFFFFF)
- Shadow: shadow-md
- Border-radius: 8px
- Padding: 24px (mobile), 32px (desktop)
- Margin between sections: 24px

**Typography:**
- Welcome message: H1, 32px, weight 600
- Section headings: H2, 24px, weight 600
- Body text: 16px, weight 400

**Color Palette:**
- Background: `#F8F9FA` (off-white)
- Card background: `#FFFFFF`
- Headings: `#2C3E50` (dark blue-gray)
- Body text: `#7F8C8D` (medium gray)
- Primary: `#4A9B8E` (teal for buttons/links)

### Example Code Structure
```tsx
// app/[locale]/dashboard/page.tsx
import { auth } from '@clerk/nextjs';
import { useTranslations } from 'next-intl';
import DashboardHeader from '@/components/DashboardHeader';
import ResourcesList from '@/components/dashboard/ResourcesList';
import FeedbackList from '@/components/dashboard/FeedbackList';

export default async function DashboardPage() {
  const { userId } = auth();

  if (!userId) {
    redirect('/login');
  }

  const t = useTranslations('dashboard');

  return (
    <div className="min-h-screen bg-gray-50">
      <DashboardHeader />

      <main className="max-w-7xl mx-auto px-6 py-8">
        <h1 className="text-3xl font-semibold text-gray-800 mb-8">
          {t('welcome')}
        </h1>

        <div className="space-y-8">
          {/* Resources Section */}
          <section className="bg-white rounded-lg shadow-md p-6 md:p-8">
            <h2 className="text-2xl font-semibold text-gray-800 mb-6">
              {t('resources.heading')}
            </h2>
            <ResourcesList />
          </section>

          {/* Feedback Section */}
          <section className="bg-white rounded-lg shadow-md p-6 md:p-8">
            <h2 className="text-2xl font-semibold text-gray-800 mb-6">
              {t('feedback.heading')}
            </h2>
            <FeedbackList />
          </section>
        </div>
      </main>
    </div>
  );
}
```

```tsx
// components/DashboardHeader.tsx
'use client';
import { useUser, SignOutButton } from '@clerk/nextjs';
import { useTranslations } from 'next-intl';
import Link from 'next/link';

export default function DashboardHeader() {
  const { user } = useUser();
  const t = useTranslations('dashboard');

  return (
    <header className="bg-white border-b border-gray-200">
      <div className="max-w-7xl mx-auto px-6 py-4">
        <div className="flex justify-between items-center">
          <Link href="/dashboard" className="text-2xl font-bold text-teal-600">
            Chess Coach
          </Link>

          <div className="flex items-center space-x-4">
            <span className="text-gray-700">
              {user?.firstName || user?.fullName}
            </span>
            <SignOutButton>
              <button className="text-gray-600 hover:text-gray-800 transition">
                {t('logout')}
              </button>
            </SignOutButton>
          </div>
        </div>
      </div>
    </header>
  );
}
```

```tsx
// components/dashboard/ResourcesList.tsx (placeholder)
'use client';
import { useTranslations } from 'next-intl';

export default function ResourcesList() {
  const t = useTranslations('dashboard.resources');

  // Placeholder - will be implemented in Story 3.3
  return (
    <div className="text-center py-12 text-gray-500">
      {t('emptyState')}
    </div>
  );
}
```

```tsx
// components/dashboard/FeedbackList.tsx (placeholder)
'use client';
import { useTranslations } from 'next-intl';

export default function FeedbackList() {
  const t = useTranslations('dashboard.feedback');

  // Placeholder - will be implemented in Story 3.4
  return (
    <div className="text-center py-12 text-gray-500">
      {t('emptyState')}
    </div>
  );
}
```

### Translation Keys Example
```json
// messages/en.json
{
  "dashboard": {
    "welcome": "Welcome to Your Dashboard",
    "logout": "Logout",
    "resources": {
      "heading": "My Resources",
      "emptyState": "No resources yet. Your instructor will upload materials here."
    },
    "feedback": {
      "heading": "Instructor Feedback",
      "emptyState": "No feedback yet. Check back after your first lesson!"
    }
  }
}

// messages/fr.json
{
  "dashboard": {
    "welcome": "Bienvenue sur votre tableau de bord",
    "logout": "Déconnexion",
    "resources": {
      "heading": "Mes ressources",
      "emptyState": "Aucune ressource pour le moment. Votre instructeur téléchargera des documents ici."
    },
    "feedback": {
      "heading": "Commentaires de l'instructeur",
      "emptyState": "Aucun commentaire pour le moment. Revenez après votre première leçon!"
    }
  }
}
```

### Testing
- **Authentication:** Try accessing `/dashboard` without login, verify redirect
- **User Display:** Log in and verify student name displays correctly
- **Layout:** Verify dashboard layout on mobile, tablet, desktop
- **Empty States:** Verify empty state messages display when no data
- **Logout:** Click logout button and verify redirect to homepage
- **i18n:** Toggle language and verify dashboard content updates
- **Navigation:** Verify header navigation works correctly

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-24 | 1.0 | Initial story creation | John (PM Agent) |

## Dev Agent Record

### Agent Model Used
_To be populated by dev agent_

### Debug Log References
_To be populated by dev agent_

### Completion Notes List
_To be populated by dev agent_

### File List
_To be populated by dev agent_

## QA Results
_To be populated by QA agent_
