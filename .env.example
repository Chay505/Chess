# =============================================================================
# ENVIRONMENT VARIABLES TEMPLATE
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to version control (it's in .gitignore)
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION (Railway PostgreSQL)
# -----------------------------------------------------------------------------
# Get these values from your Railway project dashboard:
# 1. Go to your Railway project
# 2. Click on PostgreSQL service
# 3. Go to "Variables" tab
# 4. Copy the connection strings below

# Internal URL - Used by Railway services (not for local development)
DATABASE_URL=postgresql://postgres:PASSWORD@postgres.railway.internal:5432/railway

# Public URL - Used for local development and Vercel deployments
# Replace with your actual Railway public connection URL
# Note: SSL is configured at application level (rejectUnauthorized: false for Railway)
# Connection pooling parameters:
#   - pgbouncer=true: Enable connection pooling (required for Vercel serverless)
#   - connection_limit=1: Limit connections per serverless function instance
DATABASE_PUBLIC_URL=postgresql://postgres:PASSWORD@HOST.proxy.rlwy.net:PORT/railway?pgbouncer=true&connection_limit=1

# -----------------------------------------------------------------------------
# SECURITY NOTES
# -----------------------------------------------------------------------------
# ⚠️  DATABASE_PUBLIC_URL should be used for:
#    - Local development (this URL is accessible from outside Railway)
#    - Vercel production/preview deployments
#
# ⚠️  DATABASE_URL (internal) only works within Railway's private network
#
# ⚠️  SSL Configuration:
#    - Railway uses self-signed certificates
#    - Application configures ssl: { rejectUnauthorized: false }
#    - Do NOT add sslmode=require to connection string
#
# ⚠️  Connection Pooling (Critical for Vercel):
#    - Serverless functions create new connections on each invocation
#    - pgbouncer=true enables PgBouncer connection pooling
#    - connection_limit=1 prevents connection exhaustion
#    - See: https://www.prisma.io/docs/guides/performance-and-optimization/connection-management
